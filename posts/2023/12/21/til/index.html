<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>2023-12-21｜Spring Security对OAuth2的支持及实现方式 - ChenSoul Blog</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:url" content="https://blog.chensoul.cc/posts/2023/12/21/til/"><meta property="og:site_name" content="ChenSoul Blog"><meta property="og:title" content="2023-12-21｜Spring Security对OAuth2的支持及实现方式"><meta property="og:description" content="Today I Learned. 今天分享内容：Spring Security 对 OAuth2 的支持"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-21T00:00:00+00:00"><meta property="article:modified_time" content="2023-12-21T00:00:00+00:00"><meta property="article:tag" content="Spring-Security"><meta property="article:tag" content="Oauth2"><meta itemprop=name content="2023-12-21｜Spring Security对OAuth2的支持及实现方式"><meta itemprop=description content="Today I Learned. 今天分享内容：Spring Security 对 OAuth2 的支持"><meta itemprop=datePublished content="2023-12-21T00:00:00+00:00"><meta itemprop=dateModified content="2023-12-21T00:00:00+00:00"><meta itemprop=wordCount content="321"><meta itemprop=keywords content="Spring-Security,Oauth2"><meta name=twitter:card content="summary"><meta name=twitter:title content="2023-12-21｜Spring Security对OAuth2的支持及实现方式"><meta name=twitter:description content="Today I Learned. 今天分享内容：Spring Security 对 OAuth2 的支持"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="ChenSoul Blog" rel=home><div class="logo__item logo__text"><div class=logo__title>ChenSoul Blog</div><div class=logo__tagline>Java, Spring Boot, Microservice, Cloud, Architecture and DevOps Tutorials</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/tools/><span class=menu__text>Tools</span></a></li><li class=menu__item><a class=menu__link href=/tutorials/><span class=menu__text>Tutorials</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>2023-12-21｜Spring Security对OAuth2的支持及实现方式</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2023-12-21T00:00:00Z>2023-12-21</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/review/ rel=category>Review</a></span></div></div></header><div class="content post__content clearfix"><p>Today I Learned. 今天分享内容：Spring Security 对 OAuth2 的支持</p><p>Spring Security 提供了对 OAuth 的支持，并且有几个相关的项目可以用于实现 OAuth 功能。以下是一些常见的 Spring Security OAuth
项目及其相关信息：</p><ol><li>Spring Security
OAuth（<a href=https://github.com/spring-attic/spring-security-oauth target=_blank>https://github.com/spring-attic/spring-security-oauth</a>
）：官方提供的 Spring Security OAuth 项目，为 Spring 应用程序提供了 OAuth 1.0 和 OAuth 2.0 的支持。该项目在 Spring
Security 5.x 版本后已不再维护，建议使用后续提到的 Spring Authorization Server。</li><li>Spring Security 5（<a href=https://github.com/spring-attic/spring-security target=_blank>https://github.com/spring-attic/spring-security</a>
）：Spring Security 5.x 版本开始将 OAuth 2.0 客户端支持集成到核心库中，使得在 Spring Security 中实现 OAuth 2.0
认证变得更加简单。你可以使用 Spring Security 5.x 以及后续版本来实现 OAuth 2.0 客户端功能。</li><li>Spring Security OAuth2
Boot（<a href=https://github.com/spring-attic/spring-security-oauth2-boot target=_blank>https://github.com/spring-attic/spring-security-oauth2-boot</a>
），该项目是 <code>spring-attic</code> 组织维护的，提供了 Spring Boot 2 和旧版 Spring Security OAuth
的自动配置。该项目已经停止了活跃的开发和更新，最新的提交日期是 2022 年 5 月 20 日。</li><li>Spring Authorization Server（https:<a href></a>/github.com/spring-projects/spring-authorization-server）：官方提供的用于构建
OAuth 2.0 授权服务器的实验性项目。它是 Spring Security 5.3 之后推出的替代方案，旨在提供更简化和灵活的 OAuth 2.0
授权服务器功能。</li></ol><blockquote><p>Authorization Server</p><ul><li>目前，Spring Security 不支持实现 OAuth 2.0 授权服务器。</li><li>但是，此功能可从 <a href=https://spring.io/projects/spring-security-oauth target=_blank>Spring Security OAuth</a> 项目中获得，该项目最终将被
Spring Security 完全取代。</li><li>在此之前，您可以使用该 <code>spring-security-oauth2-autoconfigure</code> 模块轻松设置 OAuth 2.0
授权服务器；有关说明，请参阅其 <a href=https://docs.spring.io/spring-security-oauth2-boot/ target=_blank>文档</a>。</li></ul></blockquote><table><thead><tr><th></th><th>Spring OAuth 2.0</th><th>Spring Security OAuth Boot</th><th>Spring Cloud Security</th><th>Spring OAuth 2.1</th></tr></thead><tbody><tr><td>仓库地址</td><td><a href=https://github.com/spring-attic/spring-security-oauth target=_blank>spring-security-oauth</a></td><td><a href=https://github.com/spring-attic/spring-security-oauth2-boot target=_blank>spring-security-oauth2-boot</a></td><td><a href=https://github.com/spring-attic/spring-cloud-security target=_blank>spring-cloud-security</a></td><td><a href=https://github.com/spring-projects/spring-authorization-server target=_blank>spring-authorization-server</a></td></tr><tr><td>是否更新</td><td>2022年6月1日归档</td><td>2022年5月31日归档</td><td>2022年4月4日归档</td><td></td></tr><tr><td>最新版本</td><td>2.5.2.RELEASE</td><td>2.6.8</td><td>2.2.5</td><td>1.2.1</td></tr><tr><td>授权方式</td><td>授权码 客户凭证</td><td></td><td></td><td>授权码 客户端凭据 隐式 密码 设备授权</td></tr><tr><td>JDK 8</td><td>支持，接口已全面废弃</td><td></td><td></td><td>1.0 之前的版本支持（0.3.0 仅支持 JDK 11）</td></tr><tr><td>JDK 11</td><td>支持，接口已全面废弃</td><td></td><td></td><td>1.0 之前的版本支持</td></tr><tr><td>JDK 17</td><td>不支持</td><td></td><td></td><td>1.0 之后的版本支持</td></tr></tbody></table><p>参考 <a href=https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Features-Matrix target=_blank>https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Features-Matrix</a></p><p>1、<em><strong>Spring Security 中 OAuth 2.0 支持的未来是什么？</strong></em></p><p>Spring Security 5.0 引入了对 OAuth 2.0 授权框架和 OpenID Connect 1.0 的新客户端支持。Spring Security 5.1
引入了新的资源服务器支持以及对不同授权类型的额外客户端支持。Spring Security 5.2延续了这一模式，为资源服务器和客户端提供了更多支持。</p><p>2、<em><strong>Spring Security OAuth 2.3+ 中是否实现了新功能？</strong></em></p><p>我们将提供错误/安全修复并考虑添加较小的增强功能。我们未来的计划是将 Spring Security OAuth 中当前的所有功能构建到 Spring
Security 5.x 中。在 Spring Security 达到与 Spring Security OAuth 同等的功能后，我们将继续支持错误和安全修复至少一年。</p><p>3、<em><strong>Spring Boot 2.0 是否提供对 Spring Security OAuth 的支持？</strong></em></p><p>Spring Boot 2.0 已放弃对 Spring Security OAuth 的支持。但是，它在 Spring Security 5 中提供了对 OAuth 2.0 Login、OAuth 2.0
Client 和 OAuth 2.0 Resource Server 的支持。</p><p>4、<em><strong>有没有办法在 Spring Boot 2.0 中集成 Spring Security OAuth？</strong></em></p><p>Spring <a href=https://github.com/spring-projects/spring-security-oauth2-boot target=_blank>Security OAuth Boot 2 Autoconfig</a>项目是 Spring
Boot 1.5.x 中包含的 Spring Security OAuth 自动配置的端口。如果您想在 Spring Boot 2.0 中使用 Spring Security
OAuth，则必须在项目中显式包含以下依赖项：</p><ul><li><strong>组ID:</strong> <code>org.springframework.security.oauth.boot</code></li><li><strong>工件ID：</strong> <code>spring-security-oauth2-autoconfigure</code></li></ul><hr><p>我创建了一个项目 <a href=https://github.com/chensoul/spring-security-oauth2-legacy target=_blank>spring-security-oauth2-legacy</a>，使用 Spring
Security OAuth2 Boot 来自动装配资源服务器。目前，还在测试中。</p><p>如果想基于 <a href=https://github.com/spring-projects/spring-authorization-server target=_blank>spring-authorization-server</a>
创建认证服务器和资源服务器，可以参考 github
上这个仓库：<a href=https://github.com/xuxiaowei-cloud/xuxiaowei-cloud target=_blank>xuxiaowei-cloud</a>。</p><p>其 main 分支基于 JDK 8/11、Spring Boot 2.7.x、OAuth 2.1、Vite 4、Vue 3、Element Plus
的微服务。支持支付宝、钉钉、码云、QQ、微信、企业微信、微博等第三方登录。包含基于 GitLab Runner 的 kubernetes（k8s）、Docker、Shell 等
CI/CD 流水线进行自动构建、制作 Docker 镜像、发布。永久免费开源。</p><p>其<a href=https://github.com/xuxiaowei-cloud/xuxiaowei-cloud/blob/archive/OAuth2.0/ target=_blank>archive/OAuth2.0</a>
分支是基于 <a href=https://github.com/spring-attic/spring-security-oauth2-boot target=_blank>spring-security-oauth2-boot</a> 实现的，可以参考代码。</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/spring-security/ rel=tag>spring-security</a></li><li class=tags__item><a class="tags__link btn" href=/tags/oauth2/ rel=tag>oauth2</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="ChenSoul avatar" src=/images/favicon.webp class=avatar height=60 width=60></figure><div class=authorbox__header><span class=authorbox__name>About ChenSoul</span></div><div class=authorbox__description>Java, Spring Boot, Microservice, Cloud, Architecture and DevOps Tutorials</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/posts/2023/12/20/til/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>2023-12-20｜Maven配置继承和生命周期、源码运行Nacos 2.3.0控制台</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/posts/2023/12/22/til/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>2023-12-22｜今天做了什么</p></a></div></nav></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/tools/>Tools</a> | <a class=footer__link href=/tutorials/>Tutorials</a> | <a class=footer__link href=/about/>About</a></div><div class=footer__copyright>&copy; 2025 ChenSoul.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/chensoul/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script></body></html>