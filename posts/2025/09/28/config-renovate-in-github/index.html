<!doctype html><html class=no-js lang=zh-cn><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>GitHub中配置Renovate自动依赖更新和自动合并PR - Java、Spring、Spring Boot、MicroServices、Architecture、Kubernetes、DevOps</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="GitHub中配置Renovate自动依赖更新和自动合并PR"><meta property="og:description" content="Java、Spring、Spring Boot、MicroServices、Architecture、Kubernetes、DevOps"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.cc/posts/2025/09/28/config-renovate-in-github/"><meta property="og:site_name" content="ChenSoul Blog"><meta property="og:image" content><meta itemprop=name content="GitHub中配置Renovate自动依赖更新和自动合并PR"><meta itemprop=description content="本文详细介绍如何在GitHub项目中配置Renovate，实现依赖的自动更新和PR的自动合并。从最小配置到复杂场景，全面覆盖不同使用情况。"><meta itemprop=datePublished content="2025-09-28T00:00:00+00:00"><meta itemprop=dateModified content="2025-09-28T00:00:00+00:00"><meta itemprop=wordCount content="950"><meta itemprop=keywords content="GitHub,Renovate"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="GitHub中配置Renovate自动依赖更新和自动合并PR"><meta name=twitter:description content="Java、Spring、Spring Boot、MicroServices、Architecture、Kubernetes、DevOps"><meta name=twitter:image content><link rel=preconnect href=//fonts.loli.net crossorigin><link rel=dns-prefetch href=//fonts.loli.net><link rel=stylesheet href="https://fonts.loli.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/ title="ChenSoul Blog" rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/logo.svg loading=lazy alt="Site logo" width=60 height=60></div><div class="logo__item logo__text"><div class=logo__title>ChenSoul Blog</div><div class=logo__tagline>Java、Spring、Spring Boot、MicroServices、Architecture、Kubernetes、DevOps</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>菜单</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>首页</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>分类</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>标签</span></a></li><li class=menu__item><a class=menu__link href=/index.xml><span class=menu__text>订阅</span></a></li><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>关于</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>GitHub中配置Renovate自动依赖更新和自动合并PR</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2025-09-28>2025-09-28</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/categories/devops/ rel=category>Devops</a></span></div><div class="meta__item-tags meta__item"><svg class="meta__icon icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><span class=meta__text><a class=meta__link href=/tags/github/ rel=tag>GitHub</a>, <a class=meta__link href=/tags/renovate/ rel=tag>Renovate</a></span></div></div></header><div class="content post__content clearfix"><p>本文详细介绍如何在GitHub项目中配置Renovate，实现依赖的自动更新和PR的自动合并。从最小配置到复杂场景，全面覆盖不同使用情况。</p><h2 id=什么是renovate>什么是Renovate？</h2><p><a href=https://renovatebot.com/ target=_blank>Renovate</a> 是一个强大的开源工具，可以自动检测项目中的依赖更新，创建Pull Request，并在满足条件时自动合并。它支持多种包管理器，包括Maven、npm、pip、Docker等，是保持项目依赖最新的最佳选择。</p><h2 id=为什么需要自动依赖更新>为什么需要自动依赖更新？</h2><h3 id=-安全性>🔒 安全性</h3><ul><li>及时获取安全补丁</li><li>减少安全漏洞风险</li><li>自动处理已知的CVE</li></ul><h3 id=-功能更新>🚀 功能更新</h3><ul><li>获取新功能和性能改进</li><li>保持技术栈的现代化</li><li>减少技术债务</li></ul><h3 id=-效率提升>⏰ 效率提升</h3><ul><li>自动化重复性工作</li><li>减少手动维护成本</li><li>专注于核心业务开发</li></ul><h2 id=核心配置项说明>核心配置项说明</h2><p>在开始配置之前，先了解Renovate的核心配置项：</p><table><thead><tr><th>配置项</th><th>类型</th><th>说明</th><th>常用值</th></tr></thead><tbody><tr><td><code>$schema</code></td><td>字符串</td><td>JSON Schema定义，提供IDE智能提示</td><td><code>"https://docs.renovatebot.com/renovate-schema.json"</code></td></tr><tr><td><code>extends</code></td><td>数组</td><td>继承的配置预设</td><td><code>["config:recommended", ":dependencyDashboard"]</code></td></tr><tr><td><code>platformAutomerge</code></td><td>布尔</td><td>启用平台自动合并</td><td><code>true</code></td></tr><tr><td><code>automerge</code></td><td>布尔</td><td>启用自动合并</td><td><code>true</code></td></tr><tr><td><code>automergeType</code></td><td>字符串</td><td>合并类型</td><td><code>"pr"</code></td></tr><tr><td><code>automergeStrategy</code></td><td>字符串</td><td>合并策略</td><td><code>"squash"</code></td></tr><tr><td><code>requiredStatusChecks</code></td><td>布尔/null</td><td>是否要求状态检查</td><td><code>null</code> (跳过检查)</td></tr><tr><td><code>ignoreTests</code></td><td>布尔</td><td>是否忽略测试</td><td><code>true</code> (忽略测试)</td></tr></tbody></table><h2 id=安装renovate应用>安装Renovate应用</h2><p>在开始配置之前，需要先在GitHub上安装Renovate应用：</p><ol><li>访问 <a href=https://github.com/apps/renovate target=_blank>Renovate GitHub App</a></li><li>点击 &ldquo;Install&rdquo; 按钮</li><li>选择要安装的仓库（或所有仓库）</li><li>确保给予以下权限：<ul><li><strong>Read access to code</strong> - 读取代码权限</li><li><strong>Write access to pull requests</strong> - 写入PR权限</li><li><strong>Write access to issues</strong> - 写入Issue权限</li></ul></li></ol><h2 id=配置场景一启用github-actions的最小配置>配置场景一：启用GitHub Actions的最小配置</h2><p>当您的项目启用了GitHub Actions CI/CD流程时，Renovate可以依赖CI检查结果来决定是否自动合并。</p><h3 id=最小必要配置>最小必要配置</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=配置说明>配置说明</h3><table><thead><tr><th>配置项</th><th>说明</th><th>作用</th></tr></thead><tbody><tr><td><code>extends</code></td><td>继承配置</td><td>继承推荐的配置规则和预设</td></tr><tr><td><code>platformAutomerge</code></td><td>启用平台自动合并</td><td>使用GitHub的自动合并功能</td></tr><tr><td><code>automerge</code></td><td>启用自动合并</td><td>允许Renovate自动合并PR</td></tr><tr><td><code>automergeType</code></td><td>合并类型</td><td>设置为"pr"表示合并PR</td></tr><tr><td><code>automergeStrategy</code></td><td>合并策略</td><td>使用squash合并，保持历史整洁</td></tr></tbody></table><h3 id=继承配置详解>继承配置详解</h3><ul><li><code>"config:recommended"</code> - 继承Renovate推荐的默认配置，包含基本的依赖检测和更新规则</li><li><code>":dependencyDashboard"</code> - 启用依赖仪表板功能，在仓库中创建Issue显示所有依赖更新状态</li></ul><h3 id=github-actions集成>GitHub Actions集成</h3><p>当启用GitHub Actions时，Renovate会：</p><ol><li>等待CI检查完成</li><li>检查所有状态检查是否通过</li><li>自动合并通过检查的PR</li></ol><h3 id=示例spring-boot项目的最小配置>示例：Spring Boot项目的最小配置</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=配置场景二没有github-actions的配置>配置场景二：没有GitHub Actions的配置</h2><p>当项目没有启用GitHub Actions或CI检查时，需要配置Renovate跳过状态检查。</p><h3 id=跳过状态检查的配置>跳过状态检查的配置</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requiredStatusChecks&#34;</span>: <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=忽略测试的配置>忽略测试的配置</h3><p>当项目没有完整的测试覆盖或测试不稳定时，可以配置Renovate忽略测试失败：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requiredStatusChecks&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=忽略特定测试的配置>忽略特定测试的配置</h3><p>如果只想忽略特定的测试，可以使用更精细的配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;忽略测试的依赖更新&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;次要版本更新需要测试通过&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=安全考虑>安全考虑</h3><p>没有CI检查时，建议：</p><ol><li>只对补丁版本更新启用自动合并</li><li>主要版本更新始终手动审查</li><li>定期检查依赖仪表板</li></ol><h3 id=示例保守的自动合并配置>示例：保守的自动合并配置</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requiredStatusChecks&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;只自动合并补丁版本更新&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;次要和主要版本需要手动审查&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>, <span style=color:#e6db74>&#34;major&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=配置场景三复杂配置场景>配置场景三：复杂配置场景</h2><h3 id=1-基于包名的智能合并策略>1. 基于包名的智能合并策略</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [<span style=color:#e6db74>&#34;config:recommended&#34;</span>, <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requiredStatusChecks&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Spring Boot相关更新自动合并&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [<span style=color:#e6db74>&#34;org.springframework.boot&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;spring-boot&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;测试依赖自动合并&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchDepTypes&#34;</span>: [<span style=color:#e6db74>&#34;devDependencies&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;test&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;主要版本更新需要手动审查&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;major&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;major-update&#34;</span>, <span style=color:#e6db74>&#34;manual-review&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=2-安全更新优先处理>2. 安全更新优先处理</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;安全更新优先处理&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;org.springframework.*&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;org.apache.*&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;com.fasterxml.jackson.*&#34;</span>
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;security&#34;</span>, <span style=color:#e6db74>&#34;urgent&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;at any time&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;vulnerabilityAlerts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;enabled&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;security&#34;</span>, <span style=color:#e6db74>&#34;vulnerability&#34;</span>, <span style=color:#e6db74>&#34;urgent&#34;</span>]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=3-时间控制和频率限制>3. 时间控制和频率限制</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;timezone&#34;</span>: <span style=color:#e6db74>&#34;Asia/Shanghai&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;before 6am on monday&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prConcurrentLimit&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prHourlyLimit&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;安全更新立即处理&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [<span style=color:#e6db74>&#34;org.springframework.*&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;at any time&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;常规更新按计划处理&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;before 6am on monday&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=4-忽略测试的复杂配置>4. 忽略测试的复杂配置</h3><h4 id=全局忽略测试>全局忽略测试</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;所有更新都忽略测试&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=基于包名的测试忽略策略>基于包名的测试忽略策略</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Spring Boot相关更新忽略测试&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [<span style=color:#e6db74>&#34;org.springframework.boot&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;spring-boot&#34;</span>, <span style=color:#e6db74>&#34;ignore-tests&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;测试依赖更新需要测试通过&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchDepTypes&#34;</span>: [<span style=color:#e6db74>&#34;devDependencies&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;test&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;主要版本更新需要测试通过&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;major&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;major-update&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=基于更新类型的测试忽略策略>基于更新类型的测试忽略策略</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;补丁版本更新忽略测试&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>, <span style=color:#e6db74>&#34;ignore-tests&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;次要版本更新需要测试通过&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;minor&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;主要版本更新需要测试通过&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;major&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;ignoreTests&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;major-update&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=5-语义化提交和pr模板>5. 语义化提交和PR模板</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessagePrefix&#34;</span>: <span style=color:#e6db74>&#34;chore(deps):&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageAction&#34;</span>: <span style=color:#e6db74>&#34;update&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageTopic&#34;</span>: <span style=color:#e6db74>&#34;{{depName}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageExtra&#34;</span>: <span style=color:#e6db74>&#34;to {{newVersion}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommits&#34;</span>: <span style=color:#e6db74>&#34;enabled&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommitType&#34;</span>: <span style=color:#e6db74>&#34;chore&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommitScope&#34;</span>: <span style=color:#e6db74>&#34;deps&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;branchPrefix&#34;</span>: <span style=color:#e6db74>&#34;renovate/&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prTitle&#34;</span>: <span style=color:#e6db74>&#34;{{semanticPrefix}}{{depName}} to {{newVersion}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prBody&#34;</span>: <span style=color:#e6db74>&#34;## 🤖 Renovate Update\n\nThis PR contains the following updates:\n\n{{#each updates}}\n- [{{#if this.isLockfileUpdate}}lockfile{{else}}package{{/if}}] {{this.depName}} {{#if this.isLockfileUpdate}}lockfile{{else}}from {{this.currentValue}} to {{this.newValue}}{{/if}}\n{{/each}}\n\n{{#if schedule}}\n**Schedule**: {{schedule}}\n{{/if}}\n\n{{#if automerge}}\n**Automerge**: {{automerge}}\n{{/if}}\n\n---\n\n{{#if hasReleaseNotes}}\n## 📝 Release Notes\n\n{{#each releases}}\n### {{this.title}}\n\n{{#each this.releases}}\n- {{this.version}} - {{this.date}}\n{{#each this.changes}}\n- {{this}}\n{{/each}}\n{{/each}}\n{{/each}}\n{{/if}}\n\n## ✅ Checklist\n\n- [ ] Code changes reviewed\n- [ ] Tests passing\n- [ ] No breaking changes\n- [ ] Documentation updated (if needed)&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=6-完整的生产环境配置>6. 完整的生产环境配置</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;$schema&#34;</span>: <span style=color:#e6db74>&#34;https://docs.renovatebot.com/renovate-schema.json&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;extends&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;config:recommended&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;:dependencyDashboard&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;:semanticCommits&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;:semanticCommitTypeAll(deps)&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;:semanticCommitScope(deps)&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;platformAutomerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;requiredStatusChecks&#34;</span>: <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;timezone&#34;</span>: <span style=color:#e6db74>&#34;Asia/Shanghai&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;before 6am on monday&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prConcurrentLimit&#34;</span>: <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prHourlyLimit&#34;</span>: <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;assignees&#34;</span>: [<span style=color:#e6db74>&#34;your-username&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;reviewers&#34;</span>: [<span style=color:#e6db74>&#34;your-username&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;packageRules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;自动合并补丁版本更新&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;自动合并Spring相关更新&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [<span style=color:#e6db74>&#34;org.springframework.*&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;spring&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;自动合并测试依赖更新&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchDepTypes&#34;</span>: [<span style=color:#e6db74>&#34;devDependencies&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;minor&#34;</span>, <span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;test&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;主要版本更新需要手动审查&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;major&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;major-update&#34;</span>, <span style=color:#e6db74>&#34;manual-review&#34;</span>]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;安全更新优先处理&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchUpdateTypes&#34;</span>: [<span style=color:#e6db74>&#34;patch&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;matchPackageNames&#34;</span>: [<span style=color:#e6db74>&#34;org.springframework.*&#34;</span>, <span style=color:#e6db74>&#34;org.apache.*&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automerge&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeType&#34;</span>: <span style=color:#e6db74>&#34;pr&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;automergeStrategy&#34;</span>: <span style=color:#e6db74>&#34;squash&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;security&#34;</span>, <span style=color:#e6db74>&#34;urgent&#34;</span>],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;schedule&#34;</span>: [<span style=color:#e6db74>&#34;at any time&#34;</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;vulnerabilityAlerts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;enabled&#34;</span>: <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;labels&#34;</span>: [<span style=color:#e6db74>&#34;dependencies&#34;</span>, <span style=color:#e6db74>&#34;renovate&#34;</span>, <span style=color:#e6db74>&#34;security&#34;</span>, <span style=color:#e6db74>&#34;vulnerability&#34;</span>, <span style=color:#e6db74>&#34;urgent&#34;</span>]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessagePrefix&#34;</span>: <span style=color:#e6db74>&#34;chore(deps):&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageAction&#34;</span>: <span style=color:#e6db74>&#34;update&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageTopic&#34;</span>: <span style=color:#e6db74>&#34;{{depName}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;commitMessageExtra&#34;</span>: <span style=color:#e6db74>&#34;to {{newVersion}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommits&#34;</span>: <span style=color:#e6db74>&#34;enabled&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommitType&#34;</span>: <span style=color:#e6db74>&#34;chore&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;semanticCommitScope&#34;</span>: <span style=color:#e6db74>&#34;deps&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;branchPrefix&#34;</span>: <span style=color:#e6db74>&#34;renovate/&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;prTitle&#34;</span>: <span style=color:#e6db74>&#34;{{semanticPrefix}}{{depName}} to {{newVersion}}&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ignorePaths&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;**/node_modules/**&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;**/target/**&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;**/.mvn/**&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;ignoreDeps&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;maven-wrapper&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;rangeStrategy&#34;</span>: <span style=color:#e6db74>&#34;bump&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;bumpVersion&#34;</span>: <span style=color:#e6db74>&#34;patch&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=启用github自动合并>启用GitHub自动合并</h2><h3 id=仓库设置>仓库设置</h3><p>在GitHub仓库中进行以下设置：</p><ol><li>进入 <strong>Settings</strong> → <strong>General</strong></li><li>找到 <strong>Pull Requests</strong> 部分</li><li>勾选 <strong>&ldquo;Allow auto-merge&rdquo;</strong></li><li>选择 <strong>&ldquo;Squash and merge&rdquo;</strong>（与配置一致）</li></ol><h3 id=分支保护规则可选>分支保护规则（可选）</h3><p>如果设置了分支保护规则，确保：</p><ul><li>允许自动合并</li><li>不阻止Renovate的合并操作</li></ul><h2 id=监控和管理>监控和管理</h2><h3 id=依赖仪表板>依赖仪表板</h3><p>Renovate会在仓库中创建一个依赖仪表板Issue，显示：</p><ul><li>待处理的更新</li><li>已计划的更新</li><li>需要手动干预的更新</li><li>更新历史记录</li></ul><h3 id=标签系统>标签系统</h3><p>通过标签可以快速识别不同类型的更新：</p><ul><li><code>dependencies</code> - 依赖更新</li><li><code>renovate</code> - Renovate相关</li><li><code>patch/minor/major</code> - 版本类型</li><li><code>security</code> - 安全更新</li><li><code>spring-boot</code> - 特定框架更新</li></ul><h2 id=最佳实践>最佳实践</h2><h3 id=1-渐进式配置>1. 渐进式配置</h3><ul><li>从最小配置开始</li><li>逐步增加自动合并的依赖类型</li><li>监控自动合并的效果</li></ul><h3 id=2-安全优先>2. 安全优先</h3><ul><li>安全更新设置最高优先级</li><li>主要版本更新始终手动审查</li><li>定期检查依赖仪表板</li></ul><h3 id=3-测试策略>3. 测试策略</h3><ul><li><strong>有完整测试覆盖</strong>: 不忽略测试，确保质量</li><li><strong>测试不稳定</strong>: 只对补丁版本忽略测试</li><li><strong>无测试覆盖</strong>: 全局忽略测试，但定期手动验证</li><li><strong>混合策略</strong>: 基于包名和版本类型智能忽略</li></ul><h3 id=4-团队协作>4. 团队协作</h3><ul><li>设置合适的assignee和reviewer</li><li>使用清晰的标签系统</li><li>建立代码审查流程</li></ul><h3 id=5-监控和调试>5. 监控和调试</h3><ul><li>定期查看Renovate日志</li><li>监控自动合并的成功率</li><li>及时处理失败的合并</li></ul><h2 id=故障排除>故障排除</h2><h3 id=常见问题>常见问题</h3><ol><li><p><strong>自动合并不工作</strong></p><ul><li>检查GitHub仓库的自动合并设置</li><li>确认Renovate应用的权限</li><li>查看分支保护规则</li></ul></li><li><p><strong>CI检查失败</strong></p><ul><li>检查测试是否通过</li><li>确认依赖兼容性</li><li>查看具体的错误信息</li></ul></li><li><p><strong>测试失败导致无法合并</strong></p><ul><li>考虑配置 <code>ignoreTests: true</code></li><li>检查测试是否稳定</li><li>使用基于包名的忽略策略</li></ul></li><li><p><strong>权限问题</strong></p><ul><li>确认Renovate有足够的权限</li><li>检查仓库设置</li><li>联系仓库管理员</li></ul></li></ol><h3 id=调试步骤>调试步骤</h3><ol><li>查看依赖仪表板Issue</li><li>检查PR的详细日志</li><li>查看GitHub Actions的执行结果</li><li>参考Renovate官方文档</li></ol><h2 id=总结>总结</h2><p>通过合理配置Renovate，可以实现：</p><ul><li>🔄 自动检测依赖更新</li><li>📝 自动创建Pull Request</li><li>✅ 自动合并符合条件的更新</li><li>🏷️ 智能标签和分类</li><li>📊 完整的更新监控</li></ul><p>选择适合您项目的配置方案：</p><ul><li><strong>有GitHub Actions</strong>: 使用最小配置，依赖CI检查</li><li><strong>无GitHub Actions</strong>: 使用保守配置，只自动合并补丁版本</li><li><strong>测试不稳定</strong>: 配置忽略测试，确保自动合并顺利进行</li><li><strong>复杂场景</strong>: 使用智能配置，基于包名和版本类型</li></ul><h2 id=参考文章>参考文章</h2><ul><li><a href=https://docs.renovatebot.com/ target=_blank>Renovate 官方文档</a></li><li><a href=https://docs.renovatebot.com/configuration-options/ target=_blank>配置选项参考</a></li><li><a href=https://docs.renovatebot.com/configuration-options/#packagerules target=_blank>包规则配置</a></li><li><a href=https://docs.renovatebot.com/configuration-options/#automerge target=_blank>自动合并配置</a></li><li><a href=https://github.com/apps/renovate target=_blank>GitHub App 安装</a></li></ul></div></article></main><footer class=post__footer><div class=post-related><h3>相关文章</h3><ul class=post-related-list><li class=post-related-item><a href=/posts/2024/12/03/github-actions-in-thingsboard/ target=_blank title="ThingsBoard源码中的Github Actions">ThingsBoard源码中的Github Actions</a></li><li class=post-related-item><a href=/posts/2024/08/01/publishing-a-jar-to-maven-repository-with-github-action/ target=_blank title="Github Action 发布 Jar 到 Maven 中央仓库">Github Action 发布 Jar 到 Maven 中央仓库</a></li><li class=post-related-item><a href=/posts/2024/07/18/publishing-a-maven-site-to-github-pages/ target=_blank title="将 Maven 站点发布到 GitHub Pages">将 Maven 站点发布到 GitHub Pages</a></li></ul></div></footer><footer class=post__footer><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/github/ rel=tag>github</a></li><li class=tags__item><a class="tags__link btn" href=/tags/renovate/ rel=tag>renovate</a></li></ul></div></footer></footer><nav class="pagination flex"><div class="pagination__item pagination__item--prev"><a class=pagination__link href=/posts/2025/09/26/spring-ai-restaurant-showcase-rag/ rel=prev><p class=pagination__title>«&#8201;上一篇: 基于 Spring AI 构建智能餐厅推荐系统：RAG 技术实战</p></a></div><div class="pagination__item pagination__item--next"><a class=pagination__link href=/posts/2025/09/29/spec-kit-with-cursor/ rel=next><p class=pagination__title>&#8201;» 下一篇: Spec-Kit 在 Cursor 中的安装和使用指南</p></a></div></nav><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="ChenSoul avatar" src=/avatar.jpg class=avatar height=60 width=60 loading=lazy></figure><div class=authorbox__header><span class=authorbox__name>关于 ChenSoul</span></div><div class=authorbox__description>一个来自中国武汉的开发者，主要撰写软件开发和开源方面的文章。浏览我的<a href=%28/posts%29>博客文章</a>，订阅我的 <a href=/index.xml>RSS</a> 源，或了解更多<a href=/about/>关于我</a>的信息。</div></div><p><h3>欢迎留言！</h3></p><div id=remark42></div><script>var remark_config={host:"https://comment.chensoul.cc",site_id:"remark",components:["embed"],url:"https://blog.chensoul.cc/posts/2025/09/28/config-renovate-in-github/",locale:"zh"};!function(e,t){for(s=0;s<e.length;s++){var s,n=t.createElement("script"),o=".js",i=t.head||t.body;"noModule"in n?(n.type="module",o=".mjs"):n.async=!0,n.defer=!0,n.src=remark_config.host+"/web/"+e[s]+o,i.appendChild(n)}}(remark_config.components||["embed"],document)</script></div><aside class="sidebar sidebar--right"><div class="post__toc toc"><div class=toc__title>目录</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#什么是renovate>什么是Renovate？</a></li><li><a href=#为什么需要自动依赖更新>为什么需要自动依赖更新？</a><ul><li><a href=#-安全性>🔒 安全性</a></li><li><a href=#-功能更新>🚀 功能更新</a></li><li><a href=#-效率提升>⏰ 效率提升</a></li></ul></li><li><a href=#核心配置项说明>核心配置项说明</a></li><li><a href=#安装renovate应用>安装Renovate应用</a></li><li><a href=#配置场景一启用github-actions的最小配置>配置场景一：启用GitHub Actions的最小配置</a><ul><li><a href=#最小必要配置>最小必要配置</a></li><li><a href=#配置说明>配置说明</a></li><li><a href=#继承配置详解>继承配置详解</a></li><li><a href=#github-actions集成>GitHub Actions集成</a></li><li><a href=#示例spring-boot项目的最小配置>示例：Spring Boot项目的最小配置</a></li></ul></li><li><a href=#配置场景二没有github-actions的配置>配置场景二：没有GitHub Actions的配置</a><ul><li><a href=#跳过状态检查的配置>跳过状态检查的配置</a></li><li><a href=#忽略测试的配置>忽略测试的配置</a></li><li><a href=#忽略特定测试的配置>忽略特定测试的配置</a></li><li><a href=#安全考虑>安全考虑</a></li><li><a href=#示例保守的自动合并配置>示例：保守的自动合并配置</a></li></ul></li><li><a href=#配置场景三复杂配置场景>配置场景三：复杂配置场景</a><ul><li><a href=#1-基于包名的智能合并策略>1. 基于包名的智能合并策略</a></li><li><a href=#2-安全更新优先处理>2. 安全更新优先处理</a></li><li><a href=#3-时间控制和频率限制>3. 时间控制和频率限制</a></li><li><a href=#4-忽略测试的复杂配置>4. 忽略测试的复杂配置</a></li><li><a href=#5-语义化提交和pr模板>5. 语义化提交和PR模板</a></li><li><a href=#6-完整的生产环境配置>6. 完整的生产环境配置</a></li></ul></li><li><a href=#启用github自动合并>启用GitHub自动合并</a><ul><li><a href=#仓库设置>仓库设置</a></li><li><a href=#分支保护规则可选>分支保护规则（可选）</a></li></ul></li><li><a href=#监控和管理>监控和管理</a><ul><li><a href=#依赖仪表板>依赖仪表板</a></li><li><a href=#标签系统>标签系统</a></li></ul></li><li><a href=#最佳实践>最佳实践</a><ul><li><a href=#1-渐进式配置>1. 渐进式配置</a></li><li><a href=#2-安全优先>2. 安全优先</a></li><li><a href=#3-测试策略>3. 测试策略</a></li><li><a href=#4-团队协作>4. 团队协作</a></li><li><a href=#5-监控和调试>5. 监控和调试</a></li></ul></li><li><a href=#故障排除>故障排除</a><ul><li><a href=#常见问题>常见问题</a></li><li><a href=#调试步骤>调试步骤</a></li></ul></li><li><a href=#总结>总结</a></li><li><a href=#参考文章>参考文章</a></li></ul></nav></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/>首页</a> | <a class=footer__link href=/categories/>分类</a> | <a class=footer__link href=/tags/>标签</a> | <a class=footer__link href=/index.xml>订阅</a> | <a class=footer__link href=/about/>关于</a></div><div class=footer__copyright>&copy; 2025 ChenSoul.
<span class=footer__copyright-credits>基于 <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> 引擎和 <a href=https://github.com/chensoul/rose-hugo/ rel="nofollow noopener" target=_blank>Rose Hugo</a> 主题</span></div></div><style>.scroll-up a{display:block;height:3.125rem;width:3.125rem;text-align:center;line-height:2.7;border-radius:50px;font-size:1.125rem;color:#fff;opacity:1;transition:all .3s ease 0s;box-shadow:0 0 10px rgb(0 0 0/.2)}.scroll-up a{background:#ee591f}.scroll-up{position:fixed;display:none;bottom:50px;z-index:999}.scroll-up.right{right:60px}</style><div class="scroll-up custom right" style=display:block><a href=#top id=top-link accesskey=g><i class="fa fa-arrow-up"></i></a></div><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script defer src=https://umami.chensoul.cc/random-string.js data-website-id=1e07d36d-bec3-4ba6-9459-876b1ac3bbe7></script></footer></div><script>"use strict";(function(t){var i=t.querySelector(".menu__btn"),o=t.querySelector(".menu__list");function a(){o.classList.toggle("menu__list--active"),o.classList.toggle("menu__list--transition"),this.classList.toggle("menu__btn--active"),this.setAttribute("aria-expanded",this.getAttribute("aria-expanded")==="true"?"false":"true")}function r(){this.classList.remove("menu__list--transition")}i&&o&&(i.addEventListener("click",a,!1),o.addEventListener("transitionend",r,!1))})(document,window)</script></body></html>