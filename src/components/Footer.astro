---
/**
 * 站点页脚组件
 *
 * @fileoverview 网站底部区域，显示版权信息、ICP 备案号等
 *
 * 核心逻辑：
 * 1. 响应式布局：移动端居中，桌面端右对齐
 * 2. 条件显示：根据配置显示自定义链接和 ICP 备案号
 * 3. 使用 mt-auto 将页脚推到页面底部（Flexbox 布局）
 *
 * 依赖关系：
 * - 被 Layout.astro 导入，在每个页面底部显示
 * - 依赖 config.ts 获取站点配置
 * - 依赖 i18n/lang.ts 获取国际化文本
 */

import { _t } from "@/i18n/lang";
import { SITE } from "@/config";

/**
 * 组件属性接口
 *
 * @property noMarginTop - 是否移除顶部外边距
 */
export interface Props {
  noMarginTop?: boolean;
}

const { noMarginTop = false } = Astro.props;
---

<footer class:list={["w-full", { "mt-auto": !noMarginTop }]}>
  <div
    class="flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4"
  >
    <!-- 版权信息区：自定义链接 + ICP 备案号 -->
    <div class="my-2 mx-auto flex flex-col items-center whitespace-nowrap sm:flex-row sm:flex-row text-[#969696] text-[11px]">
      <!-- 自定义页脚链接（如统计页面） -->
      {SITE.customFooterLink.enabled && (
        <a href={SITE.customFooterLink.url} target="_blank">
          {SITE.customFooterLink.text}
        </a>
      )}

      <!-- 分隔符（当两个元素都存在时显示） -->
      {SITE.icp && SITE.customFooterLink.enabled && (
        <span class="hidden sm:inline">&nbsp;|&nbsp;</span>
      )}

      <!-- ICP 备案号（中国大陆特有） -->
      {SITE.icp && (
        <a href="https://beian.miit.gov.cn/" target="_blank">
          {_t.license.icp} {SITE.icp}
        </a>
      )}
    </div>
  </div>
</footer>
