---
title: "我的开发设置"
date: 2025-08-24
slug: my-development-setup
tags: ["macos"]
categories: ["devops"]
---

经过多年的调整和优化，我最终确定了一套既能最大程度提升效率又能提升乐趣的开发配置。以下是我在 2025 年会使用的配置。

## 硬件

### 主机

**MacBook Pro 13 英寸 (M1)**

- 16GB统一内存
- 256GB SSD存储
- 8 核 CPU，8 核 GPU

## 软件堆栈

### 终端与 Shell

**终端**：Ghostty

**Shell**：Zsh 

### 代码编辑器

**主要**：Idea

插件：

### 版本控制

**Git配置**：

```bash
# Global settings
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
git config --global init.defaultBranch main
git config --global pull.rebase true

# Useful aliases
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.unstage 'reset HEAD --'
git config --global alias.last 'log -1 HEAD'
git config --global alias.visual '!gitk'
```

.gitconfig：

```toml
[core]
  editor = vim
  pager = cat
  autocrlf = true
  eol = lf
  safecrlf = false

[alias]
  st = status
  di = diff
  co = checkout
  cl = clone
  cp = cherry-pick
  br = branch
  unstage = reset HEAD

[rebase]
  autosquash = true
[init]
  defaultBranch = main
[pull]
  ff = only
[rerere]
  enabled = true
[http]
  postBuffer = 5242880000
[http "https://github.com"]
  proxy = socks5://127.0.0.1:7890
[https "https://github.com"]
  proxy = socks5://127.0.0.1:7890
[credential]
  helper = osxkeychain

[includeIf "gitdir:~/development/personal/"]
  path = .gitconfig-personal
[includeIf "gitdir:~/development/work/"]
  path = .gitconfig-work
```

.gitconfig-personal：

```
[user]
name = chensoul
email = ichensoul@gmail.com
```

.gitconfig-work：

```
[user]
name = chensoul
email = ichensoul@gmail.com
```

### 网盘

**阿里云盘**

**百度云盘**

## 开发工具

### 语言和运行时

**Java**

```bash
curl -s "https://get.sdkman.io" | bash
source "$HOME/.sdkman/bin/sdkman-init.sh"
sdk install springboot
sdk install maven
sdk install mvnd
sdk install gradle

/usr/libexec/java_home -v 21 --exec java -version 2>/dev/null

export JAVA_HOME=$(/usr/libexec/java_home)
```

**Go**

```bash
# Install via Homebrew
brew install go

# Useful tools
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
go install golang.org/x/tools/cmd/goimports@latest
```

**Node.js**

```bash
# Install via fnm (fast node manager)
curl -fsSL https://fnm.vercel.app/install | bash
fnm install --lts
fnm use lts-latest

# Global packages
npm install -g typescript
npm install -g @vercel/ncc
npm install -g prettier
```

### 容器与编排

**Orbstack**

**K8s**

```bash
# Install via Homebrew
brew install kubectl

# Useful aliases
alias k="kubectl"
alias kgp="kubectl get pods"
alias kgs="kubectl get services"
alias kgd="kubectl get deployments"
```

### 数据库工具

**TablePlus**

- 漂亮的数据库客户端
- 支持多种数据库类型
- 非常适合快速查询和数据探索

## 生产力工具

### 笔记记录与文档

**Typora**

**Apple Note**

**Github**

### 常用 Alias 命令

```bash
alias c='clear'
alias h='history'
alias f='open -a Finder ./'                 
alias p='cd ~/chensoul/Projects/'
alias s='source'
alias my='sudo chown -R `id -u`'
alias path='echo -e ${PATH//:/\\n}'         
alias ll='ls -la'

alias .='pwd'
alias ..='cd ../..'
alias ...='cd ../../../'
alias ....='cd ../../../../'
alias ~="cd ~"                             
alias dl="cd ~/Downloads"
alias dt="cd ~/Desktop"

alias publicip="dig +short myip.opendns.com @resolver1.opendns.com" 
alias localip="ipconfig getifaddr en0"
alias ifactive="ifconfig | pcregrep -M -o '^[^\t:]+:([^\n]|\n\t)*status: active'" 
alias delTrash="find . \( -name target -o -name .DS_Store -o -name build  -o -name node_modules \) -type d  -ls -delete"
alias update='sudo softwareupdate -i -a; brew update; brew upgrade; brew cleanup;'
alias pullcode='for dir in */; do if [[ -d "$dir/.git" ]]; then echo "Entering directory: $dir"; cd "$dir"; git pull; cd ..; fi; done'
alias tree="find . -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'"
alias listnm="find . -name "node_modules" -type d -prune -print | xargs du -chs"

### Git
alias git_current_branch="git symbolic-ref -q HEAD | sed -e 's|^refs/heads/||'"
alias gaa='git add -A'
alias gs='git status'
alias gst='git status'
alias gcm='git commit -m'
alias gcl='git clone'
alias gp='git pull'
alias gg='git push origin "$(git_current_branch)"'
alias gfwork='for dir in */; do if [[ -d "$dir/.git" ]]; then cd "$dir" && git config user.name "$WORK_USER" && git config user.email "$WORK_EMAIL" && echo "✅ 配置成功: $dir" || echo "❌ 配置失败: $dir"; cd - >/dev/null; fi; done'

### DEVELOPMENT
alias mw='./mvnw'
alias mwcv='./mvnw clean verify'

alias yi='yarn install'
alias ys='yarn start'

alias d="docker"
alias dc="docker compose"
alias dclean="docker ps -aq --no-trunc -f status=exited | xargs docker rm"
alias dstop="docker ps -aq | xargs docker stop"
# delete docker images by created date
#docker image prune -a --force --filter "until=7h"

#search docker images by name
#docker images | awk '/^spring/ {print $0}'

#delete docker images by name
#docker images | awk '/^chensoul/ {print $3}' | xargs docker rmi

alias hg='hogo server && open http://localhost:1313/'

#k8s
alias k='kubectl'
alias kget='k get all'
alias klogs='k logs'

alias mk='minikube'
alias mkdb='mk dashboard'

### function
function mkd() { mkdir -p "$@" && cd "$_"; }     
function killport() { lsof -i tcp:"$*" | awk 'NR!=1 {print $2}' | xargs kill -9 ;}

# https://github.com/thanhdevapp/jetbrains-reset-trial-evaluation-mac/blob/master/runme.sh
function clean_idea(){
  rm -rf /Applications/IntelliJ\ IDEA.app
  rm -rf ~/Library/Application\ Support/JetBrains/
  rm -rf ~/Library/Preferences/com.apple.java.util.prefs.plist
  rm -rf ~/Library/Preferences/com.jetbrains*
  rm -rf ~/Library/Preferences/jetbrains*
  rm -rf ~/Library/Caches/JetBrains
  rm -rf ~/Library/Logs/JetBrains/
  rm -rf ~/Library/Saved\ Application\ State/com.jetbrains.intellij.savedState/
  rm -rf ~/.cache/JetBrains/
  rm -rf ~/.config
  # Flush preference cache
  killall cfprefsd
}
```

### 软件管理

**Sdkman**

**HomeBrew**

```bash
if [[ $(command -v brew) == "" ]]; then
    echo "Installing Homebrew"
    /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
else
    echo "Updating Homebrew"
    brew update
fi
```

使用 Brewfile 管理软件：

```
brew "aliyunpan"
brew "bash"
brew "binutils"
brew "coreutils"
brew "curl"
brew "findutils"
brew "fastfetch"
brew "go"
brew "hugo"
brew "httpie"
brew "jq"
brew "kubectl"
brew "kubectx"
brew "k9s"
brew "minikube"
brew "moreutils"
brew "nvm"
brew "rename"
brew "ssh-copy-id"
brew "tree"
brew "vim"
brew "wget"

cask "1password"
cask "baidunetdisk"
cask "feishu"
cask "google-chrome"
cask "insomnia"
cask "intellij-idea"
cask "orbstack"
cask "switchhosts"
cask "typora"
cask "ghostty"
cask "wechat"
```

运行脚本：

```bash
brew bundle
```



### 代码组织

```
~/development/
├── personal/           # Personal projects
├── work/              # Work-related projects
├── learning/          # Tutorials and experiments
├── tools/             # Custom scripts and utilities
└── archived/          # Completed/deprecated projects
```

### 环境配置

**电脑配置**

```bash
scutil --set ComputerName "chensoul-mac"
systemsetup -settimezone "Asia/Shanghai" > /dev/null
```



**ssh**

```bash
if [ ! -f ~/.ssh/id_rsa.pub ]; then
  echo "Generating SSH keys"
  ssh-keygen -t rsa

  echo "Copied SSH key to clipboard - You can now add it to Github"
  pbcopy < ~/.ssh/id_rsa.pub
fi
```

### 备份策略

1. **代码**：GitHub/GitLab 上的 Git 存储库
2. **文档**：iCloud Drive + Time Machine
3. **系统**：每周时间机器备份
4. **关键文件**：每月手动备份到外部驱动器

## 性能优化

### MacOS 调整

```bash
# 取消 4 位数密码限制
sudo pwpolicy -clearaccountpolicies

# 允许安装任意来源的 App
sudo spctl --master-disable

# 滚动时显示滚动条
defaults write NSGlobalDomain AppleShowScrollBars -string "WhenScrolling"
# Possible values: `WhenScrolling`, `Automatic` and `Always`

# Faster key repeat
defaults write NSGlobalDomain KeyRepeat -int 1
defaults write NSGlobalDomain InitialKeyRepeat -int 10

# Show hidden files
defaults write com.apple.finder AppleShowAllFiles YES

# Disable animations
defaults write com.apple.dock launchanim -bool false
defaults write NSGlobalDomain NSAutomaticWindowAnimationsEnabled -bool false
```

更多 macos 配置，请参考 <https://github.com/chensoul/dotfiles/blob/main/osx.sh>

### 开发环境

```bash
# Increase file watch limits
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf

# Optimize Git performance
git config --global core.preloadindex true
git config --global core.fscache true
git config --global gc.auto 256
```

## 结论

这种设置经过多年的演变，并随着新工具的出现而不断变化。关键在于找到适合您特定需求的方法，并根据您的工作流程逐步优化。

请记住：最好的设置是不会妨碍您并让您专注于构建出色的软件的设置。
